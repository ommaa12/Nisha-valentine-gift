<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Be My Valentine?</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Poppins:wght@400;600&display=swap" rel="stylesheet">
    <style>
        /* === STYLES === */
        * { box-sizing: border-box; }
        
        body {
            margin: 0; padding: 0;
            display: flex; justify-content: center; align-items: center;
            height: 100vh; width: 100vw;
            background: url('couple.jpg') no-repeat center center/cover;
            font-family: 'Poppins', sans-serif;
            overflow: hidden;
            position: relative;
        }

        body::before {
            content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.2); backdrop-filter: blur(2px); z-index: -1; 
        }

        .floating-container {
            position: fixed; width: 160px; height: 160px;
            top: -300px; left: -300px;
            z-index: 20; pointer-events: none;
            transition: all 3.5s ease-in-out;
            opacity: 0; display: flex; justify-content: center; align-items: center;
        }
        
        .show-container { opacity: 1; }

        .main-couple-pic {
            width: 120px; height: 120px;
            border-radius: 50%; border: 5px solid white;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
            object-fit: cover; position: relative; z-index: 2;
        }

        .mini-rose {
            position: absolute; font-size: 24px; z-index: 1;
            top: 50%; left: 50%; margin-top: -12px; margin-left: -12px;
            transform-origin: 85px center;
            animation: orbit 8s infinite linear;
        }
        .r1 { animation-delay: 0s; animation-duration: 7s; }
        .r2 { animation-delay: -1.3s; animation-duration: 8s; transform-origin: 90px center; }
        .r3 { animation-delay: -2.6s; animation-duration: 6s; }
        .r4 { animation-delay: -3.9s; animation-duration: 7.5s; transform-origin: 80px center;}
        .r5 { animation-delay: -5.2s; animation-duration: 9s; }
        .r6 { animation-delay: -6.5s; animation-duration: 6.5s; }
        @keyframes orbit { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }

        /* === START OVERLAY === */
        #start-overlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: url('couple.png') no-repeat center center/cover;
            z-index: 1000; display: flex; justify-content: center; align-items: center; 
            flex-direction: column; cursor: pointer;
        }
        .typing-text {
            font-family: 'Poppins', sans-serif; color: #e91e63; font-size: 1.5rem; font-weight: 600;
            overflow: hidden; border-right: .15em solid #e91e63; white-space: nowrap;
            letter-spacing: .10em; animation: typing 3.5s steps(40, end), blink-caret .75s step-end infinite;
            z-index: 2; text-shadow: 0 2px 5px rgba(255,255,255, 0.8);
        }
        @keyframes typing { from { width: 0 } to { width: 100% } }
        @keyframes blink-caret { from, to { border-color: transparent } 50% { border-color: #e91e63; } }
        .start-btn {
            font-size: 1.5rem; background: white; padding: 15px 40px;
            border-radius: 50px; color: #e91e63; font-family: 'Pacifico', cursive;
            box-shadow: 0 10px 20px rgba(0,0,0,0.15); animation: pulse 2s infinite;
            margin-top: 25px; border: 2px solid #fff; z-index: 2;
        }
        @keyframes pulse {
            0% { transform: scale(1); box-shadow: 0 0 0 0 rgba(233, 30, 99, 0.7); }
            70% { transform: scale(1.05); box-shadow: 0 0 0 10px rgba(233, 30, 99, 0); }
            100% { transform: scale(1); box-shadow: 0 0 0 0 rgba(233, 30, 99, 0); }
        }

        /* === MAIN CARD === */
        .card {
            background: rgba(255, 255, 255, 0.90); padding: 30px; border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1); text-align: center; width: 90%; max-width: 400px;
            z-index: 10; transition: transform 0.3s ease;
        }
        .hidden { display: none !important; }
        #timer-box { background: #fff0f3; padding: 10px; border-radius: 15px; margin: 15px 0; border: 2px dashed #ff4081; }
        .timer-time { color: #e91e63; font-weight: bold; font-family: monospace; }

        /* === RAIN & OVERLAYS === */
        .heart-rain {
            position: fixed; top: -10%; font-size: 2rem; z-index: 2500; pointer-events: none;
            animation: heartFall linear forwards;
        }
        @keyframes heartFall { to { transform: translateY(110vh) rotate(360deg); } }

        .gift-overlay {
            position: fixed; top:0; left:0; width:100%; height:100%;
            background: rgba(255, 240, 245, 0.98); z-index: 2000; display:none;
            flex-direction: column; align-items: center; justify-content: center;
        }
        .gift-btn { background: #ad1457; color: white; border: none; padding: 12px; border-radius: 25px; cursor: pointer; width: 100%; font-weight: 600; margin-top: 8px; transition: 0.3s; }
        .gift-btn:hover { background: #ff4081; transform: translateY(-2px); }

        /* === COLOURFUL QUIZ STYLES === */
        .quiz-container-box {
            background: white; padding: 30px; border-radius: 25px;
            box-shadow: 0 15px 35px rgba(233, 30, 99, 0.2);
            width: 90%; max-width: 380px; text-align: center;
            border: 3px solid #fce4ec; animation: bounceIn 0.8s ease-out;
        }
        @keyframes bounceIn {
            0% { transform: scale(0.5); opacity: 0; }
            60% { transform: scale(1.1); }
            100% { transform: scale(1); opacity: 1; }
        }
        .quiz-q-text {
            font-family: 'Poppins', sans-serif; font-weight: 600; font-size: 1.3rem;
            background: linear-gradient(45deg, #e91e63, #ff80ab, #ad1457);
            -webkit-background-clip: text; -webkit-text-fill-color: transparent;
            margin-bottom: 20px;
        }
        .quiz-option {
            background: rgba(255, 255, 255, 0.8); border: 2px solid #ff80ab;
            color: #ad1457; padding: 14px; margin: 10px 0; border-radius: 15px;
            cursor: pointer; font-weight: 600; width: 100%; transition: 0.3s;
            display: block; font-size: 1rem;
        }
        .quiz-option:hover {
            background: #ff80ab; color: white; transform: scale(1.05);
            box-shadow: 0 5px 15px rgba(255, 128, 171, 0.4);
        }

        /* === LETTER STYLES === */
        .letter-paper {
            background: #fffaf0; padding: 35px; border-radius: 5px;
            box-shadow: 0 0 20px rgba(0,0,0,0.2), inset 0 0 50px rgba(233, 30, 99, 0.1);
            max-width: 450px; width: 90%; position: relative; border: 2px solid #e91e63;
            max-height: 70vh; 
            overflow-y: auto;
        }
        .shayari-box { margin-top: 20px; padding: 15px; border-top: 1px solid #f8bbd0; font-style: italic; color: #ad1457; font-weight: 500; line-height: 1.8; }
        
        /* New Audio Styles */
        .audio-container {
            margin-top: 25px; padding: 15px; background: #fff0f3; 
            border-radius: 15px; text-align: center; border: 1px dashed #e91e63;
        }
        .audio-player { width: 100%; margin-top: 10px; border-radius: 20px; outline: none; }

        .close-btn { margin-top: 20px; padding: 10px 25px; background: #333; color: white; border-radius: 50px; border: none; cursor: pointer; }

        /* === FINAL CHALLENGE STYLES === */
        .challenge-box {
            background: white; padding: 25px; border-radius: 20px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2); width: 90%; max-width: 350px; text-align: center;
            max-height: 80vh; overflow-y: auto;
        }
        .pass-input {
            width: 100%; padding: 12px; border: 2px solid #ff80ab; border-radius: 10px;
            font-size: 1.1rem; outline: none; margin-bottom: 15px; text-align: center; color: #e91e63;
        }
        .pass-input:focus { border-color: #ad1457; background: #fff0f3; }
        
        /* Visual Puzzle Grid */
        .puzzle-grid {
            display: grid; grid-template-columns: repeat(5, 1fr); gap: 10px; margin: 20px auto;
        }
        .puzzle-item {
            font-size: 2rem; cursor: pointer; transition: transform 0.2s; user-select: none;
        }
        .puzzle-item:hover { transform: scale(1.2); }
        .shake { animation: shake 0.5s; }
        @keyframes shake {
            0% { transform: translateX(0); } 25% { transform: translateX(-10px); }
            50% { transform: translateX(10px); } 75% { transform: translateX(-10px); } 100% { transform: translateX(0); }
        }
        
        /* Math List */
        .math-steps {
            text-align: left; font-size: 0.85rem; color: #555; margin-bottom: 15px; padding-left: 20px;
        }
        .math-steps li { margin-bottom: 5px; }

        /* === NEW LOCK STYLES === */
        .lock-container {
            text-align: center; animation: fadeIn 1.5s;
        }
        #lock-icon {
            font-size: 80px; cursor: pointer; transition: transform 0.3s; display: block; margin: 20px auto;
        }
        #lock-icon:active { transform: scale(0.9); }
        .lock-msg { font-family: 'Pacifico'; color: #ad1457; font-size: 1.5rem; margin-top: 15px; }
        @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
    </style>
</head>
<body>

    <audio id="bg-music" loop>
        <source src="music.mp3" type="audio/mpeg">
    </audio>

    <div id="start-overlay" onclick="startExperience()">
        <h2 class="typing-text">Hey, I made something for you...Nishuüíñ</h2>
        <div class="start-btn">Open It üíå</div>
        <p style="margin-top: 15px; color: #ad1457; font-weight: bold; font-size: 0.9rem;">(Please turn your volume up üîä)</p>
    </div>

    <div id="floating-container" class="floating-container">
        <img src="couple.png" alt="Us" class="main-couple-pic">
        <div class="mini-rose r1">üåπ</div><div class="mini-rose r2">üåπ</div>
        <div class="mini-rose r3">üåπ</div><div class="mini-rose r4">üåπ</div>
        <div class="mini-rose r5">üåπ</div><div class="mini-rose r6">üåπ</div>
    </div>

    <div class="card hidden" id="main-card">
        <div id="question-screen">
            <h1 style="font-family:'Pacifico'; color:#e91e63;">Will you be my valentine..Nisha Ji? üíò</h1>
            <div style="display:flex; flex-direction:column; gap:10px; margin-top:15px;">
                <button style="background:linear-gradient(45deg, #ff4081, #f50057); color:white; border:none; padding:12px; border-radius:50px; font-weight:600; cursor:pointer;" onclick="showResult()">YES! üíò</button>
                <button id="noBtn" style="background:#e0e0e0; color:#757575; border:none; padding:10px; border-radius:50px; cursor:pointer;" onmouseover="moveButton()" onclick="moveButton()">NO</button>
            </div>
        </div>

        <div id="result-screen" class="hidden">
            <h1 style="font-family:'Pacifico'; color:#e91e63; font-size: 1.6rem; line-height: 1.4;">Congratulations! <br> You are Om's Valentine üíë</h1>
            <img src="crazy-dance-dance.gif" style="width:100%; border-radius:15px; max-height:150px; object-fit:cover;">
            <div id="timer-box">
                <div style="font-size:0.8rem;">Time since 11/07/2024:</div>
                <div class="timer-time" id="time-together">Calculating...</div>
            </div>
            <button class="gift-btn" onclick="startGiftQuiz()">üéÅ Gift_1</button>
            <button class="gift-btn" onclick="openGift2()">üíå Gift_2</button>
            <button class="gift-btn" onclick="startFinalChallenge()">üé¨ Finally</button>
        </div>
    </div>

    <div id="quiz-overlay" class="gift-overlay">
        <div id="quiz-container" class="quiz-container-box">
            <h2 id="quiz-question" class="quiz-q-text"></h2>
            <div id="quiz-options"></div>
        </div>
        <button class="close-btn" onclick="closeOverlays()">Cancel Quiz</button>
    </div>

    <div id="letter-overlay" class="gift-overlay">
        <div class="letter-paper">
            <h2 style="font-family:'Pacifico'; color:#e91e63;">To my dearest wife,</h2>
            <p style="color:#444;">You are the light that turns my darkest days into dawn. Walking through life with you is the greatest blessing I could have ever asked for.</p>
            <div class="shayari-box">
                ‚ÄúMain agar khamosh hoon toh wajah tum ho,<br>
                Meri har khushi ka bas ek hi pata tum ho.<br>
                Zindagi toh chal hi rahi thi magar,<br>
                Jeene ka asli maza ab tum ho.‚Äù
            </div>
            
            <div class="audio-container">
                <p style="color:#e91e63; font-weight:bold; margin:0 0 5px 0;">üé§ Listen to my voice note:</p>
                <audio id="voice-note" controls class="audio-player">
                    <source src="voice-note.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
            </div>

            <p style="font-family:'Pacifico'; color:#e91e63; text-align:right; margin-top:15px;">Always yours, Mr kumar ‚ù§Ô∏è</p>
        </div>
        <button class="close-btn" onclick="closeOverlays()">Close with Love</button>
    </div>

    <div id="challenge-overlay" class="gift-overlay">
        
        <div id="challenge-step-1" class="challenge-box">
            <h2 style="font-family:'Pacifico'; color:#e91e63;">One Small Question... üîí</h2>
            <p style="color:#666; margin-bottom:15px;">What do I call you with love?</p>
            <input type="password" id="love-pass" class="pass-input" placeholder="Type here...">
            <button class="gift-btn" onclick="checkPass()">Unlock</button>
            <p id="pass-error" style="color:red; font-size:0.8rem; display:none; margin-top:5px;">Wrong answer, my love! üòú</p>
        </div>

        <div id="challenge-step-2" class="challenge-box hidden">
            <h2 style="font-family:'Pacifico'; color:#e91e63;">Find the Rose! üåπ</h2>
            <p style="color:#666; font-size:0.9rem;">There is only <b>ONE Rose</b> hidden in this garden of Tulips. Find it to move next!</p>
            <div class="puzzle-grid" id="puzzle-grid">
                </div>
        </div>

        <div id="challenge-step-3" class="challenge-box hidden">
            <h2 style="font-family:'Pacifico'; color:#e91e63;">The Compatibility Calc! üßÆ</h2>
            <p style="color:#666; font-size:0.9rem;">Follow these steps in your head or calculator:</p>
            <ul class="math-steps">
                <li>1. Pick ANY whole number (e.g., 5).</li>
                <li>2. Add the letters in "Affection" (<b>9</b>).</li>
                <li>3. Multiply the total by <b>2</b>.</li>
                <li>4. Add <b>182</b> (My love for you!).</li>
                <li>5. Divide the total by <b>2</b>.</li>
                <li>6. Subtract your <b>original number</b>.</li>
            </ul>
            <p style="color:#e91e63; font-weight:bold;">What is our Compatibility %?</p>
            <input type="number" id="math-ans" class="pass-input" placeholder="Enter the final number...">
            <button class="gift-btn" onclick="checkMathPuzzle()">Reveal Compatibility</button>
            <p id="math-error" style="color:red; font-size:0.8rem; display:none; margin-top:5px;">Check your calculation again, baby! ü§ì</p>
        </div>

        <button class="close-btn" onclick="closeOverlays()">Cancel</button>
    </div>

    <div id="video-overlay" class="gift-overlay">
        <video id="pVideo" style="width:100%; max-width:400px; border-radius:15px;" controls>
            <source src="personal-video.mp4" type="video/mp4">
        </video>
        <p id="video-hint" style="margin-top:10px; color:#ad1457; font-size:0.8rem;">Watch till the end for a final surprise...</p>
        <button class="close-btn" onclick="closeOverlays()">Go Back</button>
    </div>

    <div id="lock-overlay" class="gift-overlay">
        <div class="letter-paper lock-container">
            <h2 style="font-family:'Pacifico'; color:#e91e63;">Lock Our Love Forever</h2>
            <p style="font-size:0.9rem; color:#666;">This lock represents our journey since 2024. Tap it to seal our bond for eternity.</p>
            <div id="lock-icon" onclick="toggleLock()">üîì</div>
            <div id="lock-status" class="lock-msg">It's currently open...</div>
            <div id="final-blessing" class="hidden">
                <hr style="border:0; border-top:1px solid #f8bbd0; margin:20px 0;">
                <p style="font-weight:bold; color:#e91e63;">Memory Sealed: 11/07/2024 ‚Äî ‚àû</p>
                <p style="font-size:0.8rem; color:#555;">I love you, Nishu. Forever and always. ‚ù§Ô∏è</p>
            </div>
        </div>
        <button class="close-btn" onclick="closeOverlays()">End Journey</button>
    </div>

    <script>
        function startExperience() {
            var music = document.getElementById("bg-music");
            music.volume = 0.5;
            music.play();
            document.getElementById('start-overlay').style.display = 'none';
            document.getElementById('main-card').classList.remove('hidden');
            startFloatingLoop();
        }

        function showResult() {
            document.getElementById('question-screen').classList.add('hidden');
            document.getElementById('result-screen').classList.remove('hidden');
            startTimer();
            createHeartRain();
        }

        function moveButton() {
            const btn = document.getElementById('noBtn');
            btn.style.position = 'fixed';
            btn.style.left = Math.random() * (window.innerWidth - 100) + 'px';
            btn.style.top = Math.random() * (window.innerHeight - 50) + 'px';
        }

        function startTimer() {
            const start = new Date("2024-07-11T00:00:00");
            setInterval(() => {
                const diff = new Date() - start;
                const d = Math.floor(diff/86400000);
                const h = Math.floor((diff/3600000)%24);
                const m = Math.floor((diff/60000)%60);
                const s = Math.floor((diff/1000)%60);
                document.getElementById('time-together').innerText = `${d}d ${h}h ${m}m ${s}s`;
            }, 1000);
        }

        function startFloatingLoop() {
            const container = document.getElementById('floating-container');
            container.classList.add('show-container');
            setInterval(() => {
                container.style.left = Math.random() * (window.innerWidth - 180) + 'px';
                container.style.top = Math.random() * (window.innerHeight - 180) + 'px';
            }, 3500);
        }

        function openGift2() {
            document.getElementById('letter-overlay').style.display = 'flex';
            createHeartRain();
        }

        function createHeartRain() {
            const hearts = ['‚ù§Ô∏è', 'üíñ', 'üíï', 'üíó', 'üíì'];
            for (let i = 0; i < 35; i++) {
                setTimeout(() => {
                    const h = document.createElement('div');
                    h.classList.add('heart-rain');
                    h.innerText = hearts[Math.floor(Math.random() * hearts.length)];
                    h.style.left = Math.random() * 100 + 'vw';
                    h.style.animationDuration = (Math.random() * 3 + 2) + 's';
                    document.body.appendChild(h);
                    setTimeout(() => h.remove(), 5000);
                }, i * 150);
            }
        }

        function closeOverlays() {
            document.querySelectorAll('.gift-overlay').forEach(el => el.style.display = 'none');
            document.getElementById('pVideo').pause();
            
            // Stop voice note if playing
            const voiceNote = document.getElementById('voice-note');
            if(voiceNote) {
                voiceNote.pause();
                voiceNote.currentTime = 0; // Reset voice note
            }

            document.getElementById("bg-music").play();
            
            // Reset Challenge
            document.getElementById('challenge-step-1').classList.remove('hidden');
            document.getElementById('challenge-step-2').classList.add('hidden');
            document.getElementById('challenge-step-3').classList.add('hidden');
            document.getElementById('love-pass').value = '';
            document.getElementById('math-ans').value = '';
            document.getElementById('pass-error').style.display = 'none';
            document.getElementById('math-error').style.display = 'none';
        }

        // === VOICE NOTE LOGIC ===
        // This ensures the background music pauses when voice note plays
        const vn = document.getElementById('voice-note');
        const bg = document.getElementById('bg-music');

        vn.onplay = function() {
            bg.pause();
        };

        vn.onpause = function() {
            // Only resume music if the overlay is still open (otherwise closeOverlays handles it)
            if(document.getElementById('letter-overlay').style.display === 'flex') {
                bg.play();
            }
        };

        vn.onended = function() {
            if(document.getElementById('letter-overlay').style.display === 'flex') {
                bg.play();
            }
        };


        // === QUIZ LOGIC ===
        let step = 0;
        const quizData = [
            { q: "Where do I plan to spend the rest of my life?", o: ["Goa", "Giridih", "Your heart"], a: "Your heart" },
            { q: "Who gets more angry in our relationship?", o: ["You", "me", "both"], a: "me" },
            { q: "Where did we meet the first time?", o: ["Mars", "Jupiter", "Deogarh"], a: "Deogarh" }
        ];

        function startGiftQuiz() {
            step = 0;
            document.getElementById('quiz-overlay').style.display = 'flex';
            showQuest();
        }

        function showQuest() {
            const q = quizData[step];
            document.getElementById('quiz-question').innerText = q.q;
            const opt = document.getElementById('quiz-options');
            opt.innerHTML = "";
            q.o.forEach(o => {
                const b = document.createElement('button');
                b.className = "quiz-option"; b.innerText = o;
                b.onclick = () => {
                    if(o === q.a) {
                        step++;
                        if(step < quizData.length) {
                            const box = document.querySelector('.quiz-container-box');
                            box.style.animation = 'none';
                            box.offsetHeight; 
                            box.style.animation = 'bounceIn 0.5s ease-out';
                            showQuest();
                        } else {
                            document.getElementById('quiz-container').innerHTML = "<h2 class='quiz-q-text' style='font-family:Pacifico;'>You're My Soulmate! ‚ù§Ô∏è</h2><p style='color:#ad1457; font-weight:600;'>You know everything about us perfectly.</p>";
                            createHeartRain();
                        }
                    } else {
                        alert("Try again, my love! üòò");
                    }
                };
                opt.appendChild(b);
            });
        }

        // === FINAL CHALLENGE LOGIC ===
        function startFinalChallenge() {
            document.getElementById('challenge-overlay').style.display = 'flex';
        }

        function checkPass() {
            const val = document.getElementById('love-pass').value;
            if(val.toLowerCase().trim() === "natuli") {
                document.getElementById('challenge-step-1').classList.add('hidden');
                document.getElementById('challenge-step-2').classList.remove('hidden');
                generateVisualPuzzle();
            } else {
                const box = document.getElementById('challenge-step-1');
                box.classList.add('shake');
                document.getElementById('pass-error').style.display = 'block';
                setTimeout(() => box.classList.remove('shake'), 500);
            }
        }

        function generateVisualPuzzle() {
            const grid = document.getElementById('puzzle-grid');
            grid.innerHTML = "";
            const totalItems = 25;
            const correctIndex = Math.floor(Math.random() * totalItems);
            for(let i=0; i<totalItems; i++) {
                const span = document.createElement('div');
                span.className = 'puzzle-item';
                if(i === correctIndex) {
                    span.innerText = "üåπ";
                    span.onclick = () => { showMathPuzzle(); };
                } else {
                    span.innerText = "üå∑";
                    span.onclick = () => {
                        span.classList.add('shake');
                        setTimeout(() => span.classList.remove('shake'), 500);
                    };
                }
                grid.appendChild(span);
            }
        }

        function showMathPuzzle() {
            document.getElementById('challenge-step-2').classList.add('hidden');
            document.getElementById('challenge-step-3').classList.remove('hidden');
        }

        function checkMathPuzzle() {
            const val = document.getElementById('math-ans').value;
            if(val.trim() === "100") {
                openVideoActual();
            } else {
                const box = document.getElementById('challenge-step-3');
                box.classList.add('shake');
                document.getElementById('math-error').style.display = 'block';
                setTimeout(() => box.classList.remove('shake'), 500);
            }
        }

        function openVideoActual() {
            document.getElementById('challenge-overlay').style.display = 'none';
            document.getElementById('video-overlay').style.display = 'flex';
            document.getElementById("bg-music").pause();
            
            const video = document.getElementById('pVideo');
            video.play();

            // Detect when video ends to show Love Lock
            video.onended = function() {
                setTimeout(() => {
                    document.getElementById('video-overlay').style.display = 'none';
                    document.getElementById('lock-overlay').style.display = 'flex';
                    document.getElementById("bg-music").play();
                }, 1000);
            };
        }

        // === LOVE LOCK TOGGLE ===
        let isLocked = false;
        function toggleLock() {
            const lock = document.getElementById('lock-icon');
            const status = document.getElementById('lock-status');
            const blessing = document.getElementById('final-blessing');
            
            if(!isLocked) {
                lock.innerText = "üîí";
                status.innerText = "Our love is locked forever! ‚ù§Ô∏è";
                blessing.classList.remove('hidden');
                createHeartRain();
                isLocked = true;
                // Simple vibration for mobile
                if (navigator.vibrate) navigator.vibrate(100);
            }
        }

    </script>
</body>
</html>